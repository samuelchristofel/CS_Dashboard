<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Senior CS - Tickets</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#EB4C36",
              "primary-dark": "#d13a25",
              "page-bg": "#F3F4F6",
              "card-bg": "#FFFFFF",
              "text-main": "#1e293b",
              "text-secondary": "#64748b",
            },
            fontFamily: { display: ["Manrope", "sans-serif"] },
            borderRadius: { "2xl": "1.25rem", "3xl": "2rem" },
            boxShadow: {
              soft: "0 10px 40px -10px rgba(0,0,0,0.05)",
              card: "0 4px 6px -1px rgba(0, 0, 0, 0.02)",
            },
          },
        },
      };
    </script>
    <style>
      body {
        font-family: "Manrope", sans-serif;
      }

      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }

      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  </head>

  <body class="bg-page-bg text-text-main overflow-hidden h-screen flex p-6 gap-6">
    <!-- Sidebar -->
    <div class="w-64 flex-shrink-0 flex flex-col h-full bg-transparent">
      <div class="h-16 flex items-center px-2 mb-8">
        <div class="flex items-center gap-3">
          <div class="size-10 rounded-full bg-primary flex items-center justify-center text-white shadow-lg shadow-primary/30">
            <span class="material-symbols-outlined text-2xl">headset_mic</span>
          </div>
          <h1 class="text-slate-900 text-xl font-bold tracking-tight">HelpDesk</h1>
        </div>
      </div>
      <div class="flex-1 space-y-2 overflow-y-auto no-scrollbar">
        <a class="flex items-center gap-4 px-4 py-3 rounded-full text-slate-500 hover:text-slate-900 hover:bg-white/50 transition-all" href="dashboard-senior.html">
          <span class="material-symbols-outlined text-2xl">grid_view</span>
          <span class="text-base font-semibold">Dashboard</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 rounded-full bg-white text-slate-900 shadow-soft transition-all" href="senior-tickets.html">
          <span class="material-symbols-outlined text-primary text-2xl" style="font-variation-settings: &quot;FILL&quot; 1">confirmation_number</span>
          <span class="text-base font-bold">Tickets</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 rounded-full text-slate-500 hover:text-slate-900 hover:bg-white/50 transition-all" href="senior-reports.html">
          <span class="material-symbols-outlined text-2xl">bar_chart</span>
          <span class="text-base font-semibold">Reports</span>
        </a>
        <a class="flex items-center gap-4 px-4 py-3 rounded-full text-slate-500 hover:text-slate-900 hover:bg-white/50 transition-all" href="history.html#senior">
          <span class="material-symbols-outlined text-2xl">history</span>
          <span class="text-base font-semibold">History</span>
        </a>
      </div>
      <div class="mt-auto">
        <div class="flex items-center gap-3 p-2 pr-4 bg-white rounded-full shadow-soft cursor-pointer">
          <div
            class="size-10 rounded-full bg-cover bg-center"
            style="
              background-image: url(&quot;https://lh3.googleusercontent.com/aida-public/AB6AXuAoS1f1jqiPLCv9wP1ZX5ODYa0ghkKGjzT0pHb0bhhH20OWJucjJF3IaQ3_s7kGdgzSrESvLELeRePVCXvRr6Yy6B44ot4XYOMJ8EMZqG-XCW3_LdyPn99i7jvXqfWcPrKLwpHBNINwHk8ii2yZhCVjb4ie45MSAzkKY1ThrKQqU6IW1IYNMpiJCMbLekMBKotxWueVnTbLJwOjHjthhnsBYumDmvRUF1jRAc8enpPdmTnLWmqaUL-YtKY7AbgW3bg6V9BjT3ZcykA&quot;);
            "
          ></div>
          <div class="flex flex-col">
            <p class="text-sm font-bold text-slate-900 leading-tight">Jay Won</p>
            <p class="text-[10px] text-slate-500 font-medium">Senior CS Agent</p>
          </div>
          <span class="material-symbols-outlined text-slate-400 text-lg ml-auto cursor-pointer hover:text-primary" onclick="window.location.href = 'login.html'">logout</span>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col gap-6 h-full overflow-hidden">
      <!-- Header -->
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-bold text-slate-900">Tickets</h1>
          <p class="text-sm text-slate-500 mt-1">Manage and track customer tickets</p>
        </div>
        <div class="flex items-center gap-3">
          <div class="relative">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">search</span>
            <input type="text" placeholder="Search tickets..." class="pl-10 pr-4 py-2.5 bg-white rounded-full border-none shadow-soft text-sm w-64 focus:ring-2 focus:ring-primary/20" />
          </div>
          <div class="relative">
            <select class="appearance-none px-4 py-2.5 pr-10 bg-white rounded-full border-none shadow-soft text-sm font-medium cursor-pointer focus:ring-2 focus:ring-primary/20">
              <option>All Priority</option>
              <option>üî¥ High</option>
              <option>üü° Medium</option>
              <option>üîµ Low</option>
            </select>
            <span class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none text-lg">expand_more</span>
          </div>
          <button onclick="openModal()" class="flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-full font-bold text-sm shadow-lg shadow-primary/30 hover:bg-primary-dark transition-colors">
            <span class="material-symbols-outlined text-lg">add</span>
            New Ticket
          </button>
        </div>
      </div>

      <!-- Tabs -->
      <div class="flex gap-2 bg-white rounded-full p-1.5 shadow-soft w-fit">
        <button class="px-5 py-2 rounded-full bg-primary text-white font-bold text-sm transition-all" id="tab-my">
          My Tickets
          <span class="ml-1 px-1.5 py-0.5 bg-white/20 rounded-full text-xs">12</span>
        </button>
        <button class="px-5 py-2 rounded-full text-slate-500 hover:bg-slate-100 font-semibold text-sm transition-all" id="tab-team">
          Team
          <span class="ml-1 px-1.5 py-0.5 bg-slate-100 rounded-full text-xs">8</span>
        </button>
        <button class="px-5 py-2 rounded-full text-slate-500 hover:bg-slate-100 font-semibold text-sm transition-all" id="tab-unassigned">
          Unassigned
          <span class="ml-1 px-1.5 py-0.5 bg-amber-100 text-amber-600 rounded-full text-xs">5</span>
        </button>
      </div>

      <!-- Tickets Table -->
      <div class="bg-white rounded-lg shadow-soft flex-1 overflow-hidden flex flex-col">
        <!-- Column Headers -->
        <div class="px-6 py-4 border-b border-slate-100 flex items-center gap-4 text-xs font-bold text-slate-400 uppercase">
          <div class="w-20">Ticket</div>
          <div class="flex-1">Subject</div>
          <div class="w-20">Priority</div>
          <div class="w-28">Status</div>
          <div class="w-20">Source</div>
          <div class="w-32">Assigned To</div>
          <div class="w-28">Created</div>
          <div class="w-28 text-right">Actions</div>
        </div>

        <!-- Table Body - My Tickets -->
        <div class="flex-1 overflow-y-auto no-scrollbar">
          <!-- Ticket 1 - High Priority - Assigned to Self -->
          <div class="px-6 py-4 border-b border-slate-50 flex items-center gap-4 hover:bg-slate-50 cursor-pointer transition-colors">
            <div class="w-20 text-xs font-mono font-bold text-slate-400">#8821</div>
            <div class="flex-1">
              <p class="text-sm font-semibold text-slate-900">GPS device offline for 3 hours</p>
              <p class="text-xs text-slate-400 mt-0.5">PT. Trans Logistics ‚Ä¢ 0812****1234</p>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-red-50 text-red-500">HIGH</span>
            </div>
            <div class="w-28">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-blue-50 text-blue-600">IN PROGRESS</span>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-purple-50 text-purple-600">Freshchat</span>
            </div>
            <div class="w-32 flex items-center gap-2">
              <div
                class="size-6 rounded-full bg-cover bg-center"
                style="
                  background-image: url(&quot;https://lh3.googleusercontent.com/aida-public/AB6AXuAoS1f1jqiPLCv9wP1ZX5ODYa0ghkKGjzT0pHb0bhhH20OWJucjJF3IaQ3_s7kGdgzSrESvLELeRePVCXvRr6Yy6B44ot4XYOMJ8EMZqG-XCW3_LdyPn99i7jvXqfWcPrKLwpHBNINwHk8ii2yZhCVjb4ie45MSAzkKY1ThrKQqU6IW1IYNMpiJCMbLekMBKotxWueVnTbLJwOjHjthhnsBYumDmvRUF1jRAc8enpPdmTnLWmqaUL-YtKY7AbgW3bg6V9BjT3ZcykA&quot;);
                "
              ></div>
              <span class="text-xs font-medium text-slate-700">Jay Won</span>
            </div>
            <div class="w-28 text-xs text-slate-500">Dec 25, 13:45</div>
            <div class="w-28 flex justify-end gap-1">
              <button onclick="openDetailsModal('#8821')" class="size-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200" title="View">
                <span class="material-symbols-outlined text-base">visibility</span>
              </button>
              <button class="size-7 rounded-full bg-green-50 flex items-center justify-center text-green-500 hover:bg-green-100" title="Mark Done">
                <span class="material-symbols-outlined text-base">check</span>
              </button>
            </div>
          </div>

          <!-- Ticket 2 - Medium Priority - UNASSIGNED -->
          <div class="px-6 py-4 border-b border-slate-50 flex items-center gap-4 hover:bg-slate-50 cursor-pointer transition-colors">
            <div class="w-20 text-xs font-mono font-bold text-slate-400">#8820</div>
            <div class="flex-1">
              <p class="text-sm font-semibold text-slate-900">Invoice discrepancy for November</p>
              <p class="text-xs text-slate-400 mt-0.5">CV. Maju Bersama ‚Ä¢ 0821****5678</p>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-amber-50 text-amber-600">MEDIUM</span>
            </div>
            <div class="w-28">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-slate-100 text-slate-500">OPEN</span>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-green-50 text-green-600">WhatsApp</span>
            </div>
            <div class="w-32">
              <span class="text-xs text-slate-400 italic">Unassigned</span>
            </div>
            <div class="w-28 text-xs text-slate-500">Dec 25, 11:20</div>
            <div class="w-28 flex justify-end gap-1">
              <button onclick="openAssignModal('#8820')" class="size-7 rounded-full bg-amber-50 flex items-center justify-center text-amber-500 hover:bg-amber-100" title="Assign">
                <span class="material-symbols-outlined text-base">assignment_ind</span>
              </button>
              <button onclick="openDetailsModal('#8820')" class="size-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200">
                <span class="material-symbols-outlined text-base">visibility</span>
              </button>
            </div>
          </div>

          <!-- Ticket 3 - With IT (waiting review) - Assigned to IT -->
          <div class="px-6 py-4 border-b border-slate-50 flex items-center gap-4 hover:bg-amber-50/50 cursor-pointer transition-colors bg-amber-50/30">
            <div class="w-20 text-xs font-mono font-bold text-slate-400">#8819</div>
            <div class="flex-1">
              <p class="text-sm font-semibold text-slate-900">Server authentication error 500</p>
              <p class="text-xs text-slate-400 mt-0.5">PT. Digital Solusi ‚Ä¢ 0815****9012</p>
              <p class="text-[10px] text-amber-600 font-medium mt-1">‚è≥ IT resolved - awaiting your review</p>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-red-50 text-red-500">HIGH</span>
            </div>
            <div class="w-28">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-amber-100 text-amber-700">REVIEW IT</span>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-purple-50 text-purple-600">Freshchat</span>
            </div>
            <div class="w-32 flex items-center gap-2">
              <div class="size-6 rounded-full bg-purple-100 flex items-center justify-center text-purple-600">
                <span class="material-symbols-outlined text-sm">engineering</span>
              </div>
              <span class="text-xs font-medium text-purple-700">IT Support</span>
            </div>
            <div class="w-28 text-xs text-slate-500">Dec 25, 10:30</div>
            <div class="w-28 flex justify-end gap-1">
              <button onclick="openDetailsModal('#8819')" class="size-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200">
                <span class="material-symbols-outlined text-base">visibility</span>
              </button>
              <button class="size-7 rounded-full bg-green-50 flex items-center justify-center text-green-500 hover:bg-green-100" title="Approve & Close">
                <span class="material-symbols-outlined text-base">check_circle</span>
              </button>
              <button class="size-7 rounded-full bg-red-50 flex items-center justify-center text-red-500 hover:bg-red-100" title="Reject">
                <span class="material-symbols-outlined text-base">undo</span>
              </button>
            </div>
          </div>

          <!-- Ticket 4 - Low Priority - Assigned to Junior -->
          <div class="px-6 py-4 border-b border-slate-50 flex items-center gap-4 hover:bg-slate-50 cursor-pointer transition-colors">
            <div class="w-20 text-xs font-mono font-bold text-slate-400">#8816</div>
            <div class="flex-1">
              <p class="text-sm font-semibold text-slate-900">Request for fleet pricing quotation</p>
              <p class="text-xs text-slate-400 mt-0.5">Sarah Williams ‚Ä¢ 0856****3456</p>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-blue-50 text-blue-500">LOW</span>
            </div>
            <div class="w-28">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-blue-50 text-blue-600">IN PROGRESS</span>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-green-50 text-green-600">WhatsApp</span>
            </div>
            <div class="w-32 flex items-center gap-2">
              <div
                class="size-6 rounded-full bg-cover bg-center"
                style="
                  background-image: url(&quot;https://lh3.googleusercontent.com/aida-public/AB6AXuDN0rsqgI4Fv1zrp1NtwFDfMAtVMQ2Oy1GVDJOvJ6nCUCQ7jsiVV56xA7nbgCm5tdWoz7uRJrvKLjNMVQjnTMrOkljsYHrZQXhnMHQ5CdvP5axphgV6bpBS37A56yKKtC62X_dV8ExJ__FV1vSZxJHnm6MtQpfaAfapPm0coFGD-DUok5mewrK8Mmy6ABuxS5_YsFmQs1t22lop8_n8TY7Vk9QXC4c9Gu2AMIHn2KB-a37kNDLDGLObRehy6a9NVQSgv140p_nRAM8&quot;);
                "
              ></div>
              <span class="text-xs font-medium text-blue-700">Himari</span>
            </div>
            <div class="w-28 text-xs text-slate-500">Dec 25, 09:15</div>
            <div class="w-28 flex justify-end gap-1">
              <button onclick="openDetailsModal('#8816')" class="size-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200">
                <span class="material-symbols-outlined text-base">visibility</span>
              </button>
            </div>
          </div>

          <!-- Ticket 5 - Medium - Assigned to Andi -->
          <div class="px-6 py-4 border-b border-slate-50 flex items-center gap-4 hover:bg-slate-50 cursor-pointer transition-colors">
            <div class="w-20 text-xs font-mono font-bold text-slate-400">#8815</div>
            <div class="flex-1">
              <p class="text-sm font-semibold text-slate-900">Vehicle data not syncing properly</p>
              <p class="text-xs text-slate-400 mt-0.5">PT. Cargo Express ‚Ä¢ 0812****7890</p>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-amber-50 text-amber-600">MEDIUM</span>
            </div>
            <div class="w-28">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-blue-50 text-blue-600">IN PROGRESS</span>
            </div>
            <div class="w-20">
              <span class="px-2 py-1 rounded-full text-[10px] font-bold bg-purple-50 text-purple-600">Freshchat</span>
            </div>
            <div class="w-32 flex items-center gap-2">
              <div class="size-6 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold text-[10px]">AR</div>
              <span class="text-xs font-medium text-slate-700">Andi R.</span>
            </div>
            <div class="w-28 text-xs text-slate-500">Dec 24, 16:45</div>
            <div class="w-28 flex justify-end gap-1">
              <button onclick="openDetailsModal('#8815')" class="size-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200">
                <span class="material-symbols-outlined text-base">visibility</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Pagination -->
        <div class="px-6 py-4 border-t border-slate-100 flex items-center justify-between">
          <p class="text-sm text-slate-500">Showing 1-5 of 12 tickets</p>
          <div class="flex items-center gap-2">
            <button class="size-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200">
              <span class="material-symbols-outlined text-lg">chevron_left</span>
            </button>
            <button class="size-8 rounded-full bg-primary text-white flex items-center justify-center font-bold text-sm">1</button>
            <button class="size-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 font-medium text-sm">2</button>
            <button class="size-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 font-medium text-sm">3</button>
            <button class="size-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200">
              <span class="material-symbols-outlined text-lg">chevron_right</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Create Ticket Modal -->
    <div id="createTicketModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-6">
      <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
        <!-- Modal Header -->
        <div class="sticky top-0 bg-white px-8 py-5 border-b border-slate-100 flex items-center justify-between rounded-t-lg">
          <div>
            <h2 class="text-xl font-bold text-slate-900">Create New Ticket</h2>
            <p class="text-sm text-slate-500">Manual entry for WhatsApp/Phone complaints</p>
          </div>
          <button onclick="closeModal()" class="size-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>

        <!-- Modal Body -->
        <div class="p-8 space-y-6">
          <!-- Source Selection -->
          <div>
            <label class="block text-sm font-bold text-slate-700 mb-3">Ticket Source</label>
            <div class="flex gap-3">
              <label class="flex-1 relative cursor-pointer">
                <input type="radio" name="source" value="whatsapp" class="peer sr-only" checked />
                <div class="p-4 rounded-xl border-2 border-slate-200 peer-checked:border-green-500 peer-checked:bg-green-50 transition-all">
                  <div class="flex items-center gap-3">
                    <div class="size-10 rounded-full bg-green-100 flex items-center justify-center">
                      <span class="material-symbols-outlined text-green-600">chat</span>
                    </div>
                    <div>
                      <p class="font-bold text-slate-900">WhatsApp</p>
                      <p class="text-xs text-slate-500">Customer via WA</p>
                    </div>
                  </div>
                </div>
              </label>
              <label class="flex-1 relative cursor-pointer">
                <input type="radio" name="source" value="phone" class="peer sr-only" />
                <div class="p-4 rounded-xl border-2 border-slate-200 peer-checked:border-blue-500 peer-checked:bg-blue-50 transition-all">
                  <div class="flex items-center gap-3">
                    <div class="size-10 rounded-full bg-blue-100 flex items-center justify-center">
                      <span class="material-symbols-outlined text-blue-600">call</span>
                    </div>
                    <div>
                      <p class="font-bold text-slate-900">Phone</p>
                      <p class="text-xs text-slate-500">Customer via call</p>
                    </div>
                  </div>
                </div>
              </label>
            </div>
          </div>

          <!-- Customer Info -->
          <div class="border-t border-slate-100 pt-6">
            <h3 class="text-sm font-bold text-slate-700 mb-4 flex items-center gap-2">
              <span class="material-symbols-outlined text-lg">person</span>
              Customer Information
            </h3>
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-xs font-semibold text-slate-500 mb-2">Customer Name / Company</label>
                <input type="text" placeholder="e.g. PT. Trans Logistics" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm" />
              </div>
              <div>
                <label class="block text-xs font-semibold text-slate-500 mb-2">Phone Number</label>
                <input type="tel" placeholder="e.g. 081234567890" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm" />
                <p class="text-[10px] text-slate-400 mt-1">Will be auto-masked: 0812****7890</p>
              </div>
            </div>
          </div>

          <!-- Ticket Details -->
          <div class="border-t border-slate-100 pt-6">
            <h3 class="text-sm font-bold text-slate-700 mb-4 flex items-center gap-2">
              <span class="material-symbols-outlined text-lg">confirmation_number</span>
              Ticket Details
            </h3>
            <div class="space-y-4">
              <div>
                <label class="block text-xs font-semibold text-slate-500 mb-2">Subject</label>
                <input type="text" placeholder="Brief description of the issue" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm" />
              </div>
              <div>
                <label class="block text-xs font-semibold text-slate-500 mb-2">Description</label>
                <textarea rows="3" placeholder="Full details from customer..." class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm resize-none"></textarea>
              </div>
            </div>
          </div>

          <!-- Classification -->
          <div class="border-t border-slate-100 pt-6">
            <h3 class="text-sm font-bold text-slate-700 mb-4 flex items-center gap-2">
              <span class="material-symbols-outlined text-lg">category</span>
              Classification
            </h3>
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-xs font-semibold text-slate-500 mb-2">Category</label>
                <select class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm bg-white">
                  <option value="">Auto-detect from keywords</option>
                  <option value="technical">Technical Issue</option>
                  <option value="billing">Billing</option>
                  <option value="inquiry">General Inquiry</option>
                </select>
              </div>
              <div>
                <label class="block text-xs font-semibold text-slate-500 mb-2">Priority</label>
                <select class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 text-sm bg-white">
                  <option value="">Auto-detect from category</option>
                  <option value="high">üî¥ HIGH - SLA 4 hours</option>
                  <option value="medium">üü° MEDIUM - SLA 12 hours</option>
                  <option value="low">üîµ LOW - SLA 24 hours</option>
                </select>
              </div>
            </div>
            <div class="mt-3 p-3 bg-amber-50 rounded-xl flex items-start gap-2">
              <span class="material-symbols-outlined text-amber-500 text-lg">info</span>
              <p class="text-xs text-amber-700">If left empty, system will auto-classify based on keywords.</p>
            </div>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="sticky bottom-0 bg-white px-8 py-5 border-t border-slate-100 flex items-center justify-end gap-3 rounded-b-lg">
          <button onclick="closeModal()" class="px-6 py-3 rounded-full text-slate-500 font-semibold hover:bg-slate-100 transition-colors">Cancel</button>
          <button class="px-8 py-3 rounded-full bg-primary text-white font-bold shadow-lg shadow-primary/30 hover:bg-primary-dark transition-colors flex items-center gap-2">
            <span class="material-symbols-outlined text-lg">add_circle</span>
            Create Ticket
          </button>
        </div>
      </div>
    </div>

    <!-- Assign Modal -->
    <div id="assignModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-6">
      <div class="bg-white rounded-lg shadow-2xl w-full max-w-md">
        <!-- Modal Header -->
        <div class="px-6 py-5 border-b border-slate-100 flex items-center justify-between">
          <div>
            <h2 class="text-lg font-bold text-slate-900">Assign Ticket</h2>
            <p class="text-sm text-slate-500" id="assignTicketId">#8821</p>
          </div>
          <button onclick="closeAssignModal()" class="size-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200 transition-colors">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>

        <!-- Modal Body -->
        <div class="p-6 space-y-3">
          <!-- Assign to Self -->
          <button onclick="assignTo('self')" class="w-full p-4 rounded-xl border-2 border-slate-200 hover:border-primary hover:bg-red-50 transition-all text-left flex items-center gap-4">
            <div class="size-12 rounded-full bg-primary/10 flex items-center justify-center">
              <span class="material-symbols-outlined text-primary text-2xl">person</span>
            </div>
            <div class="flex-1">
              <p class="font-bold text-slate-900">Assign to Myself</p>
              <p class="text-xs text-slate-500">I will handle this ticket directly</p>
            </div>
            <span class="material-symbols-outlined text-slate-400">chevron_right</span>
          </button>

          <!-- Assign to Junior (with dropdown) -->
          <div class="p-4 rounded-xl border-2 border-slate-200">
            <div class="flex items-center gap-4 mb-3">
              <div class="size-12 rounded-full bg-blue-100 flex items-center justify-center">
                <span class="material-symbols-outlined text-blue-600 text-2xl">group</span>
              </div>
              <div class="flex-1">
                <p class="font-bold text-slate-900">Assign to Junior CS</p>
                <p class="text-xs text-slate-500">For LOW/MEDIUM priority tickets</p>
              </div>
            </div>
            <div class="space-y-2">
              <button onclick="assignTo('himari')" class="w-full p-3 rounded-lg bg-slate-50 hover:bg-blue-50 hover:border-blue-200 border border-transparent transition-all flex items-center gap-3">
                <div
                  class="size-8 rounded-full bg-cover bg-center"
                  style="
                    background-image: url(&quot;https://lh3.googleusercontent.com/aida-public/AB6AXuDN0rsqgI4Fv1zrp1NtwFDfMAtVMQ2Oy1GVDJOvJ6nCUCQ7jsiVV56xA7nbgCm5tdWoz7uRJrvKLjNMVQjnTMrOkljsYHrZQXhnMHQ5CdvP5axphgV6bpBS37A56yKKtC62X_dV8ExJ__FV1vSZxJHnm6MtQpfaAfapPm0coFGD-DUok5mewrK8Mmy6ABuxS5_YsFmQs1t22lop8_n8TY7Vk9QXC4c9Gu2AMIHn2KB-a37kNDLDGLObRehy6a9NVQSgv140p_nRAM8&quot;);
                  "
                ></div>
                <div class="flex-1 text-left">
                  <p class="text-sm font-semibold text-slate-900">Himari Tanaka</p>
                  <p class="text-[10px] text-slate-400">5 open tickets</p>
                </div>
                <span class="text-xs font-bold text-slate-400">Score: 72</span>
              </button>
              <button onclick="assignTo('andi')" class="w-full p-3 rounded-lg bg-slate-50 hover:bg-blue-50 hover:border-blue-200 border border-transparent transition-all flex items-center gap-3">
                <div class="size-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold text-xs">AR</div>
                <div class="flex-1 text-left">
                  <p class="text-sm font-semibold text-slate-900">Andi Rahmat</p>
                  <p class="text-[10px] text-green-600">2 open tickets ‚úì</p>
                </div>
                <span class="text-xs font-bold text-slate-400">Score: 85</span>
              </button>
            </div>
          </div>

          <!-- Assign to IT -->
          <button onclick="assignTo('it')" class="w-full p-4 rounded-xl border-2 border-slate-200 hover:border-purple-400 hover:bg-purple-50 transition-all text-left flex items-center gap-4">
            <div class="size-12 rounded-full bg-purple-100 flex items-center justify-center">
              <span class="material-symbols-outlined text-purple-600 text-2xl">engineering</span>
            </div>
            <div class="flex-1">
              <p class="font-bold text-slate-900">Assign to IT Support</p>
              <p class="text-xs text-slate-500">For technical issues (GPS, Server, etc)</p>
            </div>
            <span class="material-symbols-outlined text-slate-400">chevron_right</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Ticket Details Modal -->
    <div id="ticketDetailsModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-6">
      <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
        <!-- Modal Header -->
        <div class="sticky top-0 bg-white px-6 py-5 border-b border-slate-100 flex items-center justify-between rounded-t-lg">
          <div class="flex items-center gap-3">
            <div class="size-10 rounded-full bg-red-50 flex items-center justify-center">
              <span class="material-symbols-outlined text-red-500">confirmation_number</span>
            </div>
            <div>
              <h2 class="text-lg font-bold text-slate-900" id="detailTicketId">#8821</h2>
              <p class="text-xs text-slate-500">Created Dec 25, 2024 13:45</p>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span id="detailPriority" class="px-2 py-1 rounded-full text-[10px] font-bold bg-red-50 text-red-500">HIGH</span>
            <span id="detailStatus" class="px-2 py-1 rounded-full text-[10px] font-bold bg-blue-50 text-blue-600">IN PROGRESS</span>
            <button onclick="closeDetailsModal()" class="size-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:bg-slate-200 transition-colors ml-2">
              <span class="material-symbols-outlined">close</span>
            </button>
          </div>
        </div>

        <!-- Modal Body -->
        <div class="p-6 space-y-6">
          <!-- Subject -->
          <div>
            <h3 class="text-xl font-bold text-slate-900" id="detailSubject">GPS device offline for 3 hours</h3>
            <p class="text-sm text-slate-500 mt-1">Technical Issue ‚Ä¢ Freshchat</p>
          </div>

          <!-- Customer Info -->
          <div class="bg-slate-50 rounded-lg p-4">
            <h4 class="text-xs font-bold text-slate-400 uppercase mb-3">Customer Information</h4>
            <div class="grid grid-cols-2 gap-4">
              <div>
                <p class="text-xs text-slate-500">Name/Company</p>
                <p class="text-sm font-semibold text-slate-900">PT. Trans Logistics</p>
              </div>
              <div>
                <p class="text-xs text-slate-500">Phone</p>
                <p class="text-sm font-semibold text-slate-900">0812****1234</p>
              </div>
            </div>
          </div>

          <!-- Description -->
          <div>
            <h4 class="text-xs font-bold text-slate-400 uppercase mb-2">Description</h4>
            <p class="text-sm text-slate-700 leading-relaxed">
              Customer reports that their GPS tracking device has been showing offline status for approximately 3 hours. They have tried restarting the device but the issue persists. Vehicle is currently on delivery route and they need
              immediate assistance to restore tracking functionality.
            </p>
          </div>

          <!-- Assigned To -->
          <div class="bg-primary/5 rounded-lg p-4 flex items-center gap-4">
            <div
              class="size-12 rounded-full bg-cover bg-center"
              style="
                background-image: url(&quot;https://lh3.googleusercontent.com/aida-public/AB6AXuAoS1f1jqiPLCv9wP1ZX5ODYa0ghkKGjzT0pHb0bhhH20OWJucjJF3IaQ3_s7kGdgzSrESvLELeRePVCXvRr6Yy6B44ot4XYOMJ8EMZqG-XCW3_LdyPn99i7jvXqfWcPrKLwpHBNINwHk8ii2yZhCVjb4ie45MSAzkKY1ThrKQqU6IW1IYNMpiJCMbLekMBKotxWueVnTbLJwOjHjthhnsBYumDmvRUF1jRAc8enpPdmTnLWmqaUL-YtKY7AbgW3bg6V9BjT3ZcykA&quot;);
              "
            ></div>
            <div>
              <p class="text-xs text-slate-500">Assigned to</p>
              <p class="text-sm font-bold text-slate-900">Jay Won</p>
              <p class="text-xs text-slate-500">Senior CS Agent</p>
            </div>
          </div>

          <!-- Timeline -->
          <div>
            <h4 class="text-xs font-bold text-slate-400 uppercase mb-3">Activity Timeline</h4>
            <div class="space-y-3">
              <div class="flex gap-3">
                <div class="size-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-green-600 text-sm">add_circle</span>
                </div>
                <div>
                  <p class="text-sm text-slate-900">Ticket created via Freshchat</p>
                  <p class="text-xs text-slate-400">Dec 25, 13:45 ‚Ä¢ System</p>
                </div>
              </div>
              <div class="flex gap-3">
                <div class="size-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-blue-600 text-sm">person</span>
                </div>
                <div>
                  <p class="text-sm text-slate-900">Assigned to Jay Won</p>
                  <p class="text-xs text-slate-400">Dec 25, 13:46 ‚Ä¢ System</p>
                </div>
              </div>
              <div class="flex gap-3">
                <div class="size-8 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0">
                  <span class="material-symbols-outlined text-amber-600 text-sm">play_arrow</span>
                </div>
                <div>
                  <p class="text-sm text-slate-900">Status changed to IN PROGRESS</p>
                  <p class="text-xs text-slate-400">Dec 25, 13:50 ‚Ä¢ Jay Won</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="sticky bottom-0 bg-white px-6 py-4 border-t border-slate-100 flex items-center justify-between rounded-b-3xl">
          <button onclick="closeDetailsModal()" class="px-4 py-2 rounded-full text-slate-500 font-semibold hover:bg-slate-100 transition-colors">Close</button>
          <div class="flex gap-2">
            <button
              onclick="
                openAssignModal('#8821');
                closeDetailsModal();
              "
              class="px-4 py-2 rounded-full border border-slate-200 text-slate-700 font-semibold hover:bg-slate-50 transition-colors flex items-center gap-2"
            >
              <span class="material-symbols-outlined text-lg">assignment_ind</span>
              Reassign
            </button>
            <button class="px-6 py-2 rounded-full bg-green-500 text-white font-bold hover:bg-green-600 transition-colors flex items-center gap-2">
              <span class="material-symbols-outlined text-lg">check</span>
              Mark Done
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Create Ticket Modal
      function openModal() {
        document.getElementById("createTicketModal").classList.remove("hidden");
        document.getElementById("createTicketModal").classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        document.getElementById("createTicketModal").classList.add("hidden");
        document.getElementById("createTicketModal").classList.remove("flex");
        document.body.style.overflow = "";
      }

      // Assign Modal
      function openAssignModal(ticketId) {
        document.getElementById("assignTicketId").textContent = ticketId;
        document.getElementById("assignModal").classList.remove("hidden");
        document.getElementById("assignModal").classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeAssignModal() {
        document.getElementById("assignModal").classList.add("hidden");
        document.getElementById("assignModal").classList.remove("flex");
        document.body.style.overflow = "";
      }

      // Ticket Details Modal
      function openDetailsModal(ticketId) {
        document.getElementById("detailTicketId").textContent = ticketId;
        document.getElementById("ticketDetailsModal").classList.remove("hidden");
        document.getElementById("ticketDetailsModal").classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeDetailsModal() {
        document.getElementById("ticketDetailsModal").classList.add("hidden");
        document.getElementById("ticketDetailsModal").classList.remove("flex");
        document.body.style.overflow = "";
      }

      function assignTo(target) {
        const ticketId = document.getElementById("assignTicketId").textContent;
        let message = "";

        switch (target) {
          case "self":
            message = `Ticket ${ticketId} assigned to yourself`;
            break;
          case "himari":
            message = `Ticket ${ticketId} assigned to Himari Tanaka`;
            break;
          case "andi":
            message = `Ticket ${ticketId} assigned to Andi Rahmat`;
            break;
          case "it":
            message = `Ticket ${ticketId} assigned to IT Support`;
            break;
        }

        alert(message);
        closeAssignModal();
      }

      // Close modals on backdrop click
      document.getElementById("createTicketModal").addEventListener("click", function (e) {
        if (e.target === this) closeModal();
      });

      document.getElementById("assignModal").addEventListener("click", function (e) {
        if (e.target === this) closeAssignModal();
      });

      document.getElementById("ticketDetailsModal").addEventListener("click", function (e) {
        if (e.target === this) closeDetailsModal();
      });

      // Close on Escape key
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          closeModal();
          closeAssignModal();
          closeDetailsModal();
        }
      });
    </script>
  </body>
</html>
